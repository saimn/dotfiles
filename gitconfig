# -*- mode: Conf; -*-

[user]
   name = Simon Conseil
   email = contact@saimon.org
[core]
   editor = vim +0
   # autocrlf = input
   # safecrlf = true
[alias]
   addrm = add -u
   br = branch
   ci = commit -v
   co = checkout
   tags = tag -l
   st = status -sb
   unstage = reset HEAD --
   ignored = ls-files --others

   # log
   authorcount = shortlog -sn
   authors = "!git log --format='%aN <%aE>' | sort -u"
   logv = log -p
   oneline = log --graph --all --abbrev-commit --decorate --pretty=oneline
   hist = log --graph --all --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)[%an]%Creset'

   # summary of what you're going to pull/push
   incoming = "!git fetch && git log ..origin/master --stat"
   outgoing = log --oneline origin/master..HEAD

   # see what new commits have been created by the last command (typically after a "git pull")
   new = !sh -c 'git log $1@{1}..$1@{0} "$@"'

   # changes since we last did a push
   wo = whatchanged -p origin/master..HEAD

   # diff
   di = diff
   staged = diff --cached
   diffstat = diff --stat -r
   wdiff = diff --color-words
   w = whatchanged -p

   # info
   info = remote -v

   # fires up a git daemon for the repo you are currently in
   serve = !git daemon --reuseaddr --verbose  --base-path=. --export-all ./.git

   # Prune all your stale remote branches
   prune-all = !git remote | xargs -n 1 git remote prune

   # Show git branches sorted by latest commit
   latest = for-each-ref --sort=-committerdate --format='%(committerdate:relative) %(refname:short)'
[diff]
   renames = true
[color]
   branch = auto
   diff = auto
   status = auto
   interactive = auto
   ui = auto
[color "branch"]
   current = yellow reverse
   local = yellow
   remote = green
[color "diff"]
   meta = yellow bold
   frag = magenta bold
   old = red bold
   new = green bold
[color "status"]
   added = yellow
   changed = green
   untracked = cyan
[merge]
   tool = meld
   stat = true
[rebase]
   stat = true
[branch]
   autosetupmerge = true
   autosetuprebase = always
[push]
   default = upstream
[github]
   user = saimn

[mergetool "gvimdiff3"]
	cmd = gvim -f -d -c \"wincmd J\" \"$MERGED\" \"$LOCAL\" \"$BASE\" \"$REMOTE\"
[mergetool "vimdiff3"]
	cmd = vim -f -d -c \"wincmd J\" \"$MERGED\" \"$LOCAL\" \"$BASE\" \"$REMOTE\"
[pull]
	rebase = true
